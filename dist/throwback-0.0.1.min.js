(function(a){"use strict";var b={};b.Util={uuid:function(){return(Math.PI*Math.max(.01,Math.random())).toString(36).substr(2)}};var c=b.Base=function(){};c.extend=function(a,c){var d,e,f,g;return e=this,d=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return e.apply(this,arguments)},g=b.jQuery,g.extend(d,e,c),f=function(){this.constructor=d},f.prototype=e.prototype,d.prototype=new f,d.__super__=e.prototype,a&&g.extend(d.prototype,a),d},a&&(b.jQuery=a.noConflict()),b.Bootstrap=c.extend({constructor:function(){}}),b.Timer=c.extend();var d;b.Game=c.extend({constructor:function(a){var c=b.jQuery.extend({},a);this.stage=c.stage||new b.Stage},setup:function(a){d=a}});var e=b.Node=c.extend();b.Entity=e.extend(),b.Group=e.extend(),b.Layer=e.extend(),b.Scene=e.extend();var f;b.Stage=e.extend({constructor:function(a){var c=b.jQuery.extend({},a);this.el=c.el||f(c.container)}}),f=function(a){var c=document.createElement("div");return b.jQuery(c).addClass("stage").appendTo(a||"body"),c},b.Animation=c.extend({constructor:function(a){var b=this;this.sprite=a,a.async.done(function(){b.sequence([0])})},getFrameCount:function(){var a=this.frames;return a?a.length:this.sprite.getFrameCount()},sequence:function(a){if(!this.sprite.verifyFrames(a))throw new Error("frames out of bounds");this.frames=a}});var g,h,i;g={},b.Sprite=c.extend({constructor:function(a){this.async=new b.jQuery.Deferred,this.options={},"string"==typeof a?this.setImage(a):this.config(a)},config:function(a){b.jQuery.extend(this.options,a),a.img&&this.setImage(a.img)},get:function(a){return this.options[a]},getFrameCount:function(){var a,b,c,d;return a=this.get("width")||0,b=this.get("height")||0,c=this.get("frameWidth")||1,d=this.get("frameHeight")||1,Math.floor(a/c)*Math.floor(b/d)},setImage:function(a){var b;b=g[a],b?(this.image=b,this.async.resolve()):this.image=g[a]=h(a,this.async),i.call(this)},verifyFrames:function(a){var b,c;return b=Math.min.apply(Math,a),c=Math.max.apply(Math,a),b>=0&&c<=this.getFrameCount()-1}}),i=function(){var a=this,c=this.image;c&&this.async.done(function(){var d,e,f;d=b.jQuery(c),e=a.get("width")||d.width(),f=a.get("height")||d.height(),a.config({width:e,height:f,frameWidth:a.get("frameWidth")||e||1,frameHeight:a.get("frameHeight")||f||1})})},h=function(a,b){var c=new Image;return c.src=a,c.onLoad=c.onError=function(){b.resolve()},c};var j=b.Audio=c.extend();b.Music=j.extend(),b.Sound=j.extend(),"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?exports=module.exports=b:this.Throwback=b}).call(this,this.jQuery);